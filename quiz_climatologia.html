<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Enem: Climatologia e Atmosfera</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f8;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .nav-back {
            align-self: flex-start;
            margin-bottom: 20px;
            text-decoration: none;
            background: #34495e;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
        }
        .container {
            background-color: #fff;
            max-width: 800px;
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 30px;
            box-sizing: border-box;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .question-box {
            display: none;
            margin-bottom: 20px;
        }
        .question-box.active {
            display: block;
        }
        .options {
            list-style-type: none;
            padding: 0;
        }
        .options li {
            background-color: #ecf0f1;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            border: 2px solid transparent;
        }
        .options li:hover {
            background-color: #d5dbdb;
        }
        .options li.selected {
            background-color: #3498db;
            color: white;
            border-color: #2980b9;
        }
        .btn {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 20px;
            transition: 0.3s;
        }
        .btn:hover {
            background-color: #27ae60;
        }
        .btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        #result-screen, #ranking-screen, #start-screen {
            display: none;
            text-align: center;
        }
        .score-display {
            font-size: 3em;
            font-weight: bold;
            color: #e74c3c;
            margin: 20px 0;
        }
        input[type="text"] {
            padding: 10px;
            width: 80%;
            font-size: 1.1em;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .ranking-list {
            list-style-type: none;
            padding: 0;
            text-align: left;
        }
        .ranking-list li {
            background: #f9f9f9;
            margin: 5px 0;
            padding: 10px;
            border-left: 5px solid #3498db;
            display: flex;
            justify-content: space-between;
        }
        .progress-bar {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #3498db;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>

    <a href="index.html" class="nav-back">&#8592; Voltar ao Menu</a>

    <div class="container">
        <h1>üåç Desafio Climatologia: Rumo a Nota 1000!</h1>
        
        <div id="start-screen" style="display: block;">
            <p>Bem-vindo ao simulado de Climatologia. S√£o 20 quest√µes elaboradas a partir do nosso material de estudos.</p>
            <p><strong>Regras:</strong> Cada quest√£o vale 50 pontos. O objetivo de sua equipe √© atingir 1000 pontos. Refa√ßa at√© conseguir a excel√™ncia!</p>
            <button class="btn" onclick="startQuiz()">Iniciar Simulado</button>
            <button class="btn" style="background-color: #f39c12; margin-top: 10px;" onclick="showRankingOnly()">Ver Di√°rio de Notas (Ranking)</button>
        </div>
        
        <div id="quiz-screen" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            <h3 id="question-counter">Quest√£o 1 de 20</h3>
            
            <div id="questions-container">
            </div>
            
            <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Confirmar Resposta</button>
        </div>
        
        <div id="result-screen">
            <h2>Fim do Simulado!</h2>
            <p>Sua pontua√ß√£o final (estilo ENEM) foi:</p>
            <div class="score-display"><span id="final-score">0</span> / 1000</div>
            <p>Digite seu NOME e o nome da sua EQUIPE para registrar no di√°rio do professor:</p>
            <input type="text" id="student-name" placeholder="Ex: Jo√£o Silva - Equipe Alfa">
            <button class="btn" onclick="saveScore()">Salvar Pontua√ß√£o</button>
            <button class="btn" style="background-color: #34495e; margin-top: 10px;" onclick="location.reload()">Tentar Novamente</button>
        </div>
        
        <div id="ranking-screen">
            <h2>Di√°rio de Notas do Professor</h2>
            <p>As notas est√£o salvas neste aparelho.</p>
            <ul class="ranking-list" id="ranking-list">
            </ul>
            <button class="btn" onclick="location.reload()">Voltar ao In√≠cio</button>
        </div>
    </div>

<script>
    const questionsData = [
        {
            q: "A Organiza√ß√£o Mundial de Meteorologia estabelece que, para definir o clima de uma regi√£o, √© necess√°rio analisar as condi√ß√µes atmosf√©ricas habituais por um per√≠odo m√≠nimo de:",
            options: ["10 anos.", "20 anos.", "30 anos.", "50 anos.", "1 ano."],
            a: 2
        },
        {
            q: "Se um notici√°rio informa que 'uma frente fria provocar√° chuvas fortes e queda de temperatura amanh√£', ele est√° se referindo ao:",
            options: ["Clima, porque afeta a agricultura.", "Tempo, pois relata um estado moment√¢neo e espec√≠fico da atmosfera.", "Clima, pois envolve fatores geogr√°ficos definitivos.", "Tempo, pois representa o aquecimento global.", "Tempo e Clima, que s√£o sin√¥nimos."],
            a: 1
        },
        {
            q: "A camada da atmosfera terrestre onde ocorrem os principais fen√¥menos meteorol√≥gicos (chuva, vento, nuvens) √© a:",
            options: ["Estratosfera.", "Mesosfera.", "Termosfera.", "Exosfera.", "Troposfera."],
            a: 4
        },
        {
            q: "A camada de oz√¥nio, que protege o planeta filtrando parte da radia√ß√£o solar ultravioleta, est√° localizada na:",
            options: ["Troposfera.", "Estratosfera.", "Ion√≥sfera.", "Mesosfera.", "Exosfera."],
            a: 1
        },
        {
            q: "O Efeito Coriolis atua desviando os movimentos de grandes massas de ar e determinando o sentido de rota√ß√£o de furac√µes. Esse efeito √© causado pela:",
            options: ["Diferen√ßa de altitude do relevo terrestre.", "Transla√ß√£o da Terra ao redor do Sol.", "Atra√ß√£o gravitacional da Lua.", "Rota√ß√£o da Terra.", "Diferen√ßa de salinidade nos oceanos."],
            a: 3
        },
        {
            q: "Nas √°reas de BAIXA press√£o atmosf√©rica terrestre, observa-se predominantemente o seguinte comportamento:",
            options: ["O ar frio desce, inibindo a forma√ß√£o de nuvens (clima seco).", "O ar quente sobe levando umidade, favorecendo a forma√ß√£o de nuvens e chuvas.", "Os ventos estagnam por causa das altas montanhas.", "Ocorrem frentes frias extremas que congelam a umidade.", "A press√£o √© t√£o alta que repele tempestades mar√≠timas."],
            a: 1
        },
        {
            q: "Qual dos fatores clim√°ticos abaixo justifica a seguinte afirma√ß√£o: 'Cidades litor√¢neas (como Recife) possuem menor varia√ß√£o de temperatura ao longo do ano do que cidades do interior (como Cuiab√°)'?",
            options: ["Altitude.", "Latitude.", "Relevo.", "Maritimidade e Continentalidade.", "Correntes oce√¢nicas."],
            a: 3
        },
        {
            q: "Em rela√ß√£o ao fator Altitude, a regra geral para o comportamento da temperatura na troposfera √©:",
            options: ["Quanto mais alto, mais quente e denso √© o ar.", "Quanto mais alto, a temperatura n√£o sofre varia√ß√£o, apenas a press√£o cai.", "Quanto mais alto, mais frio e menos denso √© o ar.", "Quanto mais alto, mais denso √© o ar, mas a temperatura aumenta.", "A altitude afeta apenas a ocorr√™ncia de ventos, n√£o a temperatura."],
            a: 2
        },
        {
            q: "O relevo montanhoso age como barreira. A face da montanha que recebe os ventos √∫midos e concentra as chuvas √© chamada de:",
            options: ["Sotavento.", "Maritimidade.", "C√©lula de Hadley.", "Barlavento.", "Al√≠sio."],
            a: 3
        },
        {
            q: "O que as colunas (barras verticais) e a linha curva representam, respectivamente, na leitura de um climograma?",
            options: ["Temperatura e Vento.", "Vento e Umidade.", "Precipita√ß√£o (chuvas) e Temperatura.", "Umidade Relativa e Press√£o.", "Altitude e Latitude."],
            a: 2
        },
        {
            q: "Ao analisar o climograma da regi√£o de Clima Tropical (ex: Cuiab√°-MT), √© poss√≠vel observar de forma muito clara a exist√™ncia de:",
            options: ["Chuvas extremamente regulares ao longo dos 12 meses, sem esta√ß√£o seca.", "Temperaturas negativas em pelo menos 6 meses do ano.", "Alta pluviosidade de ver√£o e uma n√≠tida esta√ß√£o seca no inverno.", "Um √≠ndice de chuva anual muito baixo, caracterizando √°rea de deserto.", "Nenhuma varia√ß√£o de temperatura durante o ano todo."],
            a: 2
        },
        {
            q: "Um climograma com temperaturas permanentemente elevadas o ano todo e chuvas muito irregulares e escassas, acumulando menos de 600 mm anuais concentrados em poucos meses, descreve um clima:",
            options: ["Equatorial.", "Semi√°rido.", "Subtropical.", "Subpolar.", "Mediterr√¢neo."],
            a: 1
        },
        {
            q: "Diferente de grande parte do Brasil, o Clima Subtropical (ex: Orlando/EUA ou Sul do Brasil) apresenta em seu climograma:",
            options: ["Quatro esta√ß√µes do ano bem definidas e grande amplitude t√©rmica entre ver√£o e inverno.", "Chuvas concentradas somente nos 2 meses de ver√£o e o resto do ano seco.", "Temperaturas acima de 30¬∫C todos os meses e pouqu√≠ssima chuva.", "Um comportamento id√™ntico ao clima da Floresta Amaz√¥nica.", "Invernos rigorosos de nove meses com forte nevasca anual."],
            a: 0
        },
        {
            q: "O clima que √© famoso por possuir VER√ïES quentes e SECOS, e INVERNOS amenos e CHUVOSOS, caracter√≠stico de cidades como Atenas (Gr√©cia) e Roma (It√°lia), chama-se:",
            options: ["Tropical √ömido.", "Equatorial.", "Subpolar.", "Mediterr√¢neo.", "Tropical Mon√ß√¥nico."],
            a: 3
        },
        {
            q: "Correntes mar√≠timas frias, ao passarem por regi√µes costeiras, reduzem a evapora√ß√£o e a umidade do ar, sendo muitas vezes respons√°veis por:",
            options: ["Causar inunda√ß√µes cont√≠nuas.", "Derreter geleiras polares.", "Aquecer a atmosfera gerando tornados.", "Favorecer a aridez, formando desertos costeiros.", "Aumentar a prolifera√ß√£o de florestas densas."],
            a: 3
        },
        {
            q: "Os ventos predominantes que sopram dos tr√≥picos em dire√ß√£o ao equador e s√£o fundamentais para a din√¢mica clim√°tica global s√£o os:",
            options: ["Ventos de oeste.", "Al√≠sios.", "Polares.", "Mon√ß√µes secas.", "Contra-al√≠sios."],
            a: 1
        },
        {
            q: "No estudo das Zonas de Circula√ß√£o, o ar que sobe e desce forma grandes c√©lulas que ajudam a distribuir calor na Terra. O nome das tr√™s principais c√©lulas s√£o:",
            options: ["Equador, Tr√≥pico e Polo.", "Pac√≠fico, Atl√¢ntico e √çndico.", "Coriolis, Barlavento e Sotavento.", "Hadley, Ferrel e Polar.", "Maritimidade, Continentalidade e Altitude."],
            a: 3
        },
        {
            q: "A Floresta Amaz√¥nica √© um bioma diretamente influenciado pelo clima Equatorial. No climograma desse clima, observa-se:",
            options: ["Chuvas abundantes o ano inteiro e temperaturas sempre elevadas.", "Ver√µes chuvosos e invernos frios e secos.", "Precipita√ß√£o de neve nos meses de junho e julho.", "Chuvas irregulares com forte esta√ß√£o seca.", "Temperaturas m√©dias n√£o ultrapassando os 15¬∫C ao longo do ano."],
            a: 0
        },
        {
            q: "Massas de ar s√£o grandes volumes de ar que carregam as caracter√≠sticas de onde se formam. No Brasil, qual massa √© a grande respons√°vel pelas fortes quedas de temperatura e frentes frias no Sul e Sudeste durante o inverno?",
            options: ["Massa Equatorial continental (mEc).", "Massa Tropical continental (mTc).", "Massa Polar atl√¢ntica (mPa).", "Massa Tropical atl√¢ntica (mTa).", "Massa Equatorial atl√¢ntica (mEa)."],
            a: 2
        },
        {
            q: "A cidade de Fairbanks, no Alasca, possui clima Subpolar. A principal caracter√≠stica gr√°fica em seu climograma √©:",
            options: ["Temperaturas quentes constantes de 25¬∫C o ano todo.", "Invernos longos com temperaturas abaixo de zero (ex: -17¬∫C) e ver√µes curtos e amenos.", "Altos √≠ndices de chuvas (acima de 4000 mm) devido ao derretimento do gelo.", "Curva de precipita√ß√£o e temperatura id√™nticas √†s de uma cidade des√©rtica quente.", "Quatro esta√ß√µes do ano extremamente regulares em chuva e calor."],
            a: 1
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let selectedOption = null;

    const quizContainer = document.getElementById('questions-container');
    const nextBtn = document.getElementById('next-btn');

    // Inicializa as perguntas na interface
    function buildQuiz() {
        questionsData.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = `question-box ${index === 0 ? 'active' : ''}`;
            div.id = `q-${index}`;
            
            let optionsHtml = '';
            item.options.forEach((opt, optIndex) => {
                optionsHtml += `<li onclick="selectOption(${index}, ${optIndex}, this)">${opt}</li>`;
            });

            div.innerHTML = `
                <h3>${index + 1}. ${item.q}</h3>
                <ul class="options">
                    ${optionsHtml}
                </ul>
            `;
            quizContainer.appendChild(div);
        });
    }

    function startQuiz() {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'block';
        buildQuiz();
        updateProgress();
    }

    function selectOption(qIndex, optIndex, element) {
        // Remove sele√ß√£o anterior
        const optionsList = element.parentElement.children;
        for(let i=0; i<optionsList.length; i++) {
            optionsList[i].classList.remove('selected');
        }
        // Aplica a nova sele√ß√£o
        element.classList.add('selected');
        selectedOption = optIndex;
        nextBtn.disabled = false;
    }

    function nextQuestion() {
        // Verifica a resposta
        if(selectedOption === questionsData[currentQuestionIndex].a) {
            score += 50; // Cada quest√£o vale 50 (50 x 20 = 1000)
        }

        // Esconde atual
        document.getElementById(`q-${currentQuestionIndex}`).classList.remove('active');
        
        currentQuestionIndex++;
        selectedOption = null;
        nextBtn.disabled = true;

        if (currentQuestionIndex < questionsData.length) {
            // Mostra pr√≥xima
            document.getElementById(`q-${currentQuestionIndex}`).classList.add('active');
            document.getElementById('question-counter').innerText = `Quest√£o ${currentQuestionIndex + 1} de 20`;
            updateProgress();
        } else {
            // Fim do quiz
            showResult();
        }
    }

    function updateProgress() {
        const percent = ((currentQuestionIndex) / questionsData.length) * 100;
        document.getElementById('progress').style.width = percent + '%';
    }

    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = score;
    }

    function saveScore() {
        const studentName = document.getElementById('student-name').value.trim();
        if(!studentName) {
            alert("Por favor, digite seu nome e equipe para registrar a nota!");
            return;
        }

        const data = {
            nome: studentName,
            nota: score,
            data: new Date().toLocaleDateString('pt-BR') + ' ' + new Date().toLocaleTimeString('pt-BR')
        };

        // Puxa hist√≥rico do localStorage
        let ranking = JSON.parse(localStorage.getItem('climatologia_ranking')) || [];
        ranking.push(data);
        
        // Ordena por nota (maior primeiro)
        ranking.sort((a, b) => b.nota - a.nota);
        
        // Salva
        localStorage.setItem('climatologia_ranking', JSON.stringify(ranking));
        
        alert("Nota salva com sucesso no Di√°rio do Professor!");
        showRankingOnly();
    }

    function showRankingOnly() {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'none';
        document.getElementById('ranking-screen').style.display = 'block';

        const rankingList = document.getElementById('ranking-list');
        rankingList.innerHTML = '';
        
        let ranking = JSON.parse(localStorage.getItem('climatologia_ranking')) || [];
        
        if(ranking.length === 0) {
            rankingList.innerHTML = '<li>Nenhuma nota registrada neste aparelho ainda.</li>';
        } else {
            ranking.forEach((aluno, i) => {
                rankingList.innerHTML += `
                    <li>
                        <strong>${i+1}¬∫ - ${aluno.nome}</strong> 
                        <span>Nota: <strong>${aluno.nota}</strong> <small>(${aluno.data})</small></span>
                    </li>
                `;
            });
        }
    }
</script>
</body>
</html>
